# Max Resend

Простой скрипт, который пересылает сообщения из группы в мессенджера, который *ловит даже на парковке* (то есть MAX) в группу в Telegram. 


## Установка

> Проект поддерживает `uv`. Для установки зависимостей можно использовать команду `uv sync`.

1.  Клонируйте репозиторий:
    ```bash
    git clone https://github.com/timka-123/max-resend.git
    cd max-resend
    ```

2.  Создайте и активируйте виртуальное окружение:
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```

3.  Установите зависимости:
    ```bash
    pip install -r requirements.txt
    ```

## Настройка

Скопируйте содержимое файла `.env.example` в файл `.env`. В примере конфига предзаполнены некоторые поля, но некоторые всё же нужно будет заполнить самому:

```env
MAX_AUTH_TOKEN=получение расписано ниже
MAX_CHAT_ID=откройте чат в вебверсии и скопируйте ссылку. Те числа, которые находятся после https://web.max.ru/-1234 и являются ID чата
TG_TOKEN=токен бота, который будет пересылать сообщения. Получить его можно у @BotFather в Telegram
TG_CHAT_ID=ID чата в Telegram, куда будут пересылаться сообщения.
```

## Запуск

Для запуска скрипта выполните следующую команду:

```bash
python main.py
```

Скрипт начнет опрашивать новые сообщения и пересылать их в указанный Telegram-чат.


## Получение MAX_AUTH_TOKEN

1. Откройте веб-версию MAX по ссылке: https://web.max.ru.
2. Откройте Devtools (обычно клавиша F12 или Ctrl+Shift+I).
3. Перейдите на вкладку "Application" (Приложение).
4. В левом меню выберите "Local storage" и найдите переменную под ключом `__oneme_auth`
5. Внизу откроется панель - в ней под ключом `token` будет ваш токен, который нужно скопировать и вставить в `.env` файл